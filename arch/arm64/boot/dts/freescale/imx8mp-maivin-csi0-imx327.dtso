// SPDX-License-Identifier: (GPL-2.0+ OR MIT)
/*
 * Copyright 2021 Ideas on Board Oy
 */

/dts-v1/;
/plugin/;

&i2c3 {
	vc_ctrl: controller@10 {
		compatible = "vision-components,mipi-module";
		reg = <0x10>;
		#clock-cells = <0>;
		vcc-supply = <&csi_3v3>;
		clock-frequency = <37125000>;
	};

	camera@1a {
		compatible = "sony,imx327", "sony,imx290";
		reg = <0x1a>;

		clocks = <&vc_ctrl>;
		clock-names = "xclk";
		clock-frequency = <37125000>;

		vddd-supply = <&vc_ctrl>;

		orientation = <0>;	/* Front */
		rotation = <0>;

		port {
			imx327_out: endpoint {
				data-lanes = <1 2 3 4>;
				link-frequencies = /bits/ 64 <148500000 222750000>;
				remote-endpoint = <&mipi_csi0_ep>;
			};
		};
	};
};

&isi_0 {
	status = "okay";
};

&mipi_csi_0 {
	status = "okay";

	ports {
		port@0 {
			mipi_csi0_ep: endpoint {
				remote-endpoint = <&imx327_out>;
				data-lanes = <1 2 3 4>;
			};
		};
	};
};
